<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temporizador - Cuenta Regresiva</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --color-1: #3b82f6;
            --color-2: #60a5fa;
            --color-3: #93c5fd;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-2 sm:p-4 md:p-6" style="background: linear-gradient(135deg, var(--color-1) 0%, var(--color-2) 50%, var(--color-3) 100%);">
    <div class="bg-white/95 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-6 md:p-8 lg:p-12 max-w-2xl w-full">
        <h1 id="eventTitle" class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-4 sm:mb-6 md:mb-8 text-gray-800 px-2"></h1>
        
        <div id="countdown" class="grid grid-cols-2 gap-3 sm:gap-4 md:gap-6 mb-4 sm:mb-6 md:mb-8">
            <div class="rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 text-center shadow-lg transform transition hover:scale-105" style="background: var(--color-1);">
                <div id="days" class="text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-1 sm:mb-2">0</div>
                <div class="text-xs sm:text-sm md:text-base text-white/80 uppercase tracking-wide">DÃ­as</div>
            </div>
            <div class="rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 text-center shadow-lg transform transition hover:scale-105" style="background: var(--color-2);">
                <div id="hours" class="text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-1 sm:mb-2">0</div>
                <div class="text-xs sm:text-sm md:text-base text-white/80 uppercase tracking-wide">Horas</div>
            </div>
            <div class="rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 text-center shadow-lg transform transition hover:scale-105" style="background: var(--color-3);">
                <div id="minutes" class="text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-1 sm:mb-2">0</div>
                <div class="text-xs sm:text-sm md:text-base text-white/80 uppercase tracking-wide">Minutos</div>
            </div>
            <div class="rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 text-center shadow-lg transform transition hover:scale-105" style="background: var(--color-2);">
                <div id="seconds" class="text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-1 sm:mb-2">0</div>
                <div class="text-xs sm:text-sm md:text-base text-white/80 uppercase tracking-wide">Segundos</div>
            </div>
        </div>

        <div id="message" class="text-center text-xl sm:text-2xl font-semibold text-gray-700 hidden px-2">
            ðŸŽ‰ Â¡El evento ha llegado! ðŸŽ‰
        </div>

        <div class="text-center text-xs sm:text-sm text-gray-500 mt-4 sm:mt-6 px-2">
            <p id="targetDate"></p>
        </div>
    </div>

    <script>
        // Obtener parÃ¡metros de la URL
        const urlParams = new URLSearchParams(window.location.search);
        const title = urlParams.get('title') || 'Cuenta Regresiva';
        const year = parseInt(urlParams.get('y')) || new Date().getFullYear();
        const month = parseInt(urlParams.get('m')) || new Date().getMonth() + 1;
        const day = parseInt(urlParams.get('d')) || new Date().getDate();
        const hour = parseInt(urlParams.get('h')) || 0;
        const minute = parseInt(urlParams.get('min')) || 0;

        // Colores personalizables (minimalista por defecto: azul suave)
        const color1 = urlParams.get('c1') || '#3b82f6'; // Azul
        const color2 = urlParams.get('c2') || '#60a5fa'; // Azul medio
        const color3 = urlParams.get('c3') || '#93c5fd'; // Azul claro
        
        // Aplicar colores personalizados
        document.documentElement.style.setProperty('--color-1', color1);
        document.documentElement.style.setProperty('--color-2', color2);
        document.documentElement.style.setProperty('--color-3', color3);

        // Establecer el tÃ­tulo
        document.getElementById('eventTitle').textContent = title;

        // Crear fecha objetivo (mes en JavaScript es 0-11)
        const targetDate = new Date(year, month - 1, day, hour, minute, 0);
        document.getElementById('targetDate').textContent = 
            `Fecha objetivo: ${targetDate.toLocaleDateString('es-ES', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            })}`;

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                // El evento ha pasado
                document.getElementById('countdown').classList.add('hidden');
                document.getElementById('message').classList.remove('hidden');
                return;
            }

            // Calcular tiempo restante
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Actualizar valores en el DOM
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
        }

        // Actualizar inmediatamente y luego cada segundo
        updateCountdown();
        setInterval(updateCountdown, 1000);
    </script>
</body>
</html>

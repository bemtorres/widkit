<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temporizador - Cuenta Regresiva</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 min-h-screen flex items-center justify-center p-4">
    <div class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 max-w-2xl w-full">
        <h1 id="eventTitle" class="text-4xl md:text-5xl font-bold text-center mb-8 text-gray-800"></h1>
        
        <div id="countdown" class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-8">
            <div class="bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 md:p-6 text-center shadow-lg transform transition hover:scale-105">
                <div id="days" class="text-4xl md:text-5xl font-bold text-white mb-2">0</div>
                <div class="text-sm md:text-base text-purple-100 uppercase tracking-wide">DÃ­as</div>
            </div>
            <div class="bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl p-4 md:p-6 text-center shadow-lg transform transition hover:scale-105">
                <div id="hours" class="text-4xl md:text-5xl font-bold text-white mb-2">0</div>
                <div class="text-sm md:text-base text-pink-100 uppercase tracking-wide">Horas</div>
            </div>
            <div class="bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-4 md:p-6 text-center shadow-lg transform transition hover:scale-105">
                <div id="minutes" class="text-4xl md:text-5xl font-bold text-white mb-2">0</div>
                <div class="text-sm md:text-base text-red-100 uppercase tracking-wide">Minutos</div>
            </div>
            <div class="bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 md:p-6 text-center shadow-lg transform transition hover:scale-105">
                <div id="seconds" class="text-4xl md:text-5xl font-bold text-white mb-2">0</div>
                <div class="text-sm md:text-base text-orange-100 uppercase tracking-wide">Segundos</div>
            </div>
        </div>

        <div id="message" class="text-center text-2xl font-semibold text-gray-700 hidden">
            ðŸŽ‰ Â¡El evento ha llegado! ðŸŽ‰
        </div>

        <div class="text-center text-sm text-gray-500 mt-6">
            <p id="targetDate"></p>
        </div>
    </div>

    <script>
        // Obtener parÃ¡metros de la URL
        const urlParams = new URLSearchParams(window.location.search);
        const title = urlParams.get('title') || 'Cuenta Regresiva';
        const year = parseInt(urlParams.get('y')) || new Date().getFullYear();
        const month = parseInt(urlParams.get('m')) || new Date().getMonth() + 1;
        const day = parseInt(urlParams.get('d')) || new Date().getDate();
        const hour = parseInt(urlParams.get('h')) || 0;
        const minute = parseInt(urlParams.get('min')) || 0;

        // Establecer el tÃ­tulo
        document.getElementById('eventTitle').textContent = title;

        // Crear fecha objetivo (mes en JavaScript es 0-11)
        const targetDate = new Date(year, month - 1, day, hour, minute, 0);
        document.getElementById('targetDate').textContent = 
            `Fecha objetivo: ${targetDate.toLocaleDateString('es-ES', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            })}`;

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                // El evento ha pasado
                document.getElementById('countdown').classList.add('hidden');
                document.getElementById('message').classList.remove('hidden');
                return;
            }

            // Calcular tiempo restante
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Actualizar valores en el DOM
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
        }

        // Actualizar inmediatamente y luego cada segundo
        updateCountdown();
        setInterval(updateCountdown, 1000);
    </script>
</body>
</html>
